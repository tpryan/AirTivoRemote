<?xml version="1.0" encoding="utf-8"?>
<s:View xmlns:fx="http://ns.adobe.com/mxml/2009" 
		xmlns:s="library://ns.adobe.com/flex/spark" 
		title="TiVo" creationComplete="init(event)" 
		xmlns:components="components.*">
	
	<fx:Script>
		<![CDATA[
			import com.terrenceryan.tivoremote.TivoRemote;
			import com.terrenceryan.tivoremote.TivoService;
			
			import mx.events.FlexEvent;
			
			protected var tivoService:TivoService = new TivoService();
			protected var tivoRemote:TivoRemote = null;
			

			protected function actionPause_clickHandler():void{
				tivoRemote.pause();
			}

			protected function actionForward_clickHandler():void{
				tivoRemote.forward();
			}

			protected function actionReverse_clickHandler():void{
				tivoRemote.reverse();
			}

			protected function actionSlow_clickHandler():void{
				tivoRemote.slow();
			}

			protected function channelUp_clickHandler():void{
				tivoRemote.channelup();
			}

			protected function channelDown_clickHandler():void{
				tivoRemote.channeldown();
			}

			protected function select_clickHandler():void{
				tivoRemote.select();
			}

			protected function up_clickHandler():void{
				tivoRemote.up();
			}

			protected function down_clickHandler():void{
				tivoRemote.down();
			}

			protected function left_clickHandler():void{
				tivoRemote.left();
			}

			protected function right_clickHandler():void{
				tivoRemote.right();
			}

			protected function tivo_clickHandler():void{
				tivoRemote.tivo();
			}

			protected function live_clickHandler():void{
				tivoRemote.livetv();
			}

			protected function pad1_clickHandler():void{
				tivoRemote.num1();
			}

			protected function pad2_clickHandler():void{
				tivoRemote.num2();
			}

			protected function pad3_clickHandler():void{
				tivoRemote.num3();
			}

			protected function pad4_clickHandler():void{
				tivoRemote.num4();
			}

			protected function pad5_clickHandler():void{
				tivoRemote.num5();
			}

			protected function pad6_clickHandler():void{
				tivoRemote.num6();
			}

			protected function pad7_clickHandler():void{
				tivoRemote.num7();
			}

			protected function pad8_clickHandler():void{
				tivoRemote.num8();
			}

			protected function pad9_clickHandler():void{
				tivoRemote.num9();
			}

			protected function pad0_clickHandler():void{
				tivoRemote.num0();
			}
			
			protected function enter_clickHandler():void{
				tivoRemote.enter();
			}
			
			protected function clear_clickHandler():void{
				tivoRemote.clear();
			}

			protected function settings_clickHandler():void{
				navigator.pushView(Settings, tivoRemote.log);
			}
			
			protected function log_clickHandler():void{
				navigator.pushView(Log, tivoRemote.log);
			}
			
			protected function closeButton_clickHandler():void{
				NativeApplication.nativeApplication.exit();
			}


			protected function init(event:FlexEvent):void{
			
				if (tivoService.active == null){
					navigator.pushView(Settings, {msg:"Please add a device"});
					
				}else{
					tivoRemote = new TivoRemote(tivoService.active.hostname);
				}
				
			}

		]]>
	</fx:Script>
	<s:states>
		<s:State name="portrait"/>
		<s:State name="landscape"/>
	</s:states>
	
	
	<s:actionContent>
		<s:Button id="settings" icon="@Embed(source='../assets/settings48x48.png')" right="10" top="10"  click="settings_clickHandler()"/>
		<s:Button id="log" icon="@Embed(source='../assets/log48x48.png')" right="10" top="10" click="log_clickHandler()"/>
		<s:Button id="closeButton" icon="@Embed(source='../assets/close48x48.png')"  click="closeButton_clickHandler()"  />
	</s:actionContent>
	
		
		
		<s:Button id="live" left="10" top="10" height="60" label="Live" click="live_clickHandler()"/>
		<s:Button id="tivo" right="10" top="10" height="60" label="Tivo" click="tivo_clickHandler()"/>
		
	
	<components:ArrowControls id="arrows" top="10" downClicked="down_clickHandler()"
							  selectClicked="select_clickHandler()" upClicked="up_clickHandler()"
							  leftClicked="left_clickHandler()" rightClicked="right_clickHandler()"
							  top.landscape="10" width.landscape="258"
							  horizontalCenter.landscape="0"
							  top.portrait="10" width.portrait="258" horizontalCenter.portrait="0"/>
	
	
	<components:ChannelControls id="channelControls" right="10" bottom="10"
								down="channelDown_clickHandler()" 
								up="channelUp_clickHandler()"/>
	
	
	<components:PlayControls id="playControls" top="270" forward="actionForward_clickHandler()"
							 horizontalCenter="0" pause="actionPause_clickHandler()"
							 reverse="actionReverse_clickHandler()" slow="actionSlow_clickHandler()"/>
	
	
	<components:NumberPad id="numberPad" left="10" bottom="10" num0="pad0_clickHandler()"
						  num1="pad1_clickHandler()" num2="pad2_clickHandler()"
						  num3="pad3_clickHandler()" num4="pad4_clickHandler()"
						  num5="pad5_clickHandler()" num6="pad6_clickHandler()"
						  num7="pad7_clickHandler()" num8="pad8_clickHandler()"
						  num9="pad9_clickHandler()" enter="enter_clickHandler()"
						  clear="clear_clickHandler()"/>
	
	
	
	
	
	
	
</s:View>
